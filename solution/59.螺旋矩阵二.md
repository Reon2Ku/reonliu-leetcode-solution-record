# 59.螺旋矩阵二

## 题目描述

给你一个正整数 `n` ，生成一个包含 `1` 到 `n2` 所有元素，且元素按顺时针顺序螺旋排列的 `n x n` 正方形矩阵 `matrix` 。

 

**示例 1：**

![img](https://assets.leetcode.com/uploads/2020/11/13/spiraln.jpg)

```
输入：n = 3
输出：[[1,2,3],[8,9,4],[7,6,5]]
```

**示例 2：**

```
输入：n = 1
输出：[[1]]
```



## 题解

`````
//纪念一下，这是我人生中第一道自己写出来的中等题。虽然只看了一丢丢思路，就是要坚持循环不变量原则
//对每一条边的处理规则应当是固定的，都是前闭后开
//这是我自己写的代码
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        vector<vector<int>> vec(n,vector<int>(n));

        if(n%2 != 0)
        {
            int temp = (n-1)/2;
            vec[temp][temp] = n*n;
        }

        int num = 1;
        int i=0;
        int j=0;

        for(int count=0;count<n/2;count++)
        {
            while(j<n-1-count)
            {
                vec[i][j++] =  num;
                num++;
            }
            
            while(i<n-1-count)
            {
                vec[i++][j] = num;
                num++;
            }

            while(j>count)
            {
                vec[i][j--] = num;
                num++;
            }

            while(i>count)
            {
                vec[i--][j] = num;
                num++;
            }
            i++;
            j++;
        }
        return vec;
    }
};
`````

官方的解法与我的解法思路差不多，本体主要考察对螺旋矩阵构建过程的模拟是否精确，并不涉及特定的算法

如果考虑对自己的代码进行优化的话：

`````
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        vector<vector<int>> vec(n,vector<int>(n));

        int num = 1;
        int i=0;
        int j=0;

        for(int count=0;count<n/2;count++)
        {
            while(j<n-1-count)
                vec[i][j++] =  num++;
            
            while(i<n-1-count)
                vec[i++][j] = num++;

            while(j>count)
                vec[i][j--] = num++;

            while(i>count)
                vec[i--][j] = num++;
            
            i++;
            j++;
        }

        if(n%2 != 0)
        {
            int temp = (n-1)/2;//注意这里，我最开始写成了(n+1)/2，这也是导致我编译不通过的唯一原因，缺阻塞了很久
            //最终在chatGPT的帮助下找到了问题，引以为戒。索引是从0起始的
            //这道题目中一个索引没搞清楚就会导致全盘崩溃
            vec[temp][temp] = n*n;
        }

        return vec;
    }
};
`````

