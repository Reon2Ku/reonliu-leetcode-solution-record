# 84.柱状图中最大的矩形

给定 *n* 个非负整数，用来表示柱状图中各个柱子的高度。每个柱子彼此相邻，且宽度为 1 。

求在该柱状图中，能够勾勒出来的矩形的最大面积。

 

**示例 1:**

![img](https://assets.leetcode.com/uploads/2021/01/04/histogram.jpg)

```
输入：heights = [2,1,5,6,2,3]
输出：10
解释：最大的矩形为图中红色区域，面积为 10
```

**示例 2：**

![img](https://assets.leetcode.com/uploads/2021/01/04/histogram-1.jpg)

```
输入： heights = [2,4]
输出： 4
```



## 题解

纯自己想的一道困难题，我真是太牛逼啦！！！

~~~
class Solution {
public:
    int largestRectangleArea(vector<int>& heights) {
        int largestNum = 0;
        stack<int> sta;
        vector<vector<int>> result(2,vector<int>(heights.size(),-1));
        for(int i=0;i<heights.size();i++)
        {
            if(sta.empty() || heights[i]>=heights[sta.top()])
            {
                sta.push(i);
                continue;
            }
            while(!sta.empty()&&heights[i]<heights[sta.top()])
            {
                result[0][sta.top()] = i;
                sta.pop(); 
            }
            sta.push(i);
        }
        while(!sta.empty()) sta.pop();
        for(int i=heights.size()-1;i>=0;i--)
        {
            if(sta.empty() || heights[i]>=heights[sta.top()])
            {
                sta.push(i);
                continue;
            }
            while(!sta.empty()&&heights[i]<heights[sta.top()])
            {
                result[1][sta.top()] = i;
                sta.pop(); 
            }
            sta.push(i);
        }

        for(int i=0;i<heights.size();i++)
        {
            //cout<<result[0][i]<<endl;
            //cout<<result[1][i]<<endl;
            if(result[0][i]==-1) 
            {
                int area = heights[i]*(heights.size()-result[1][i]-1);
                largestNum = area>largestNum?area:largestNum;
            }
            else
            {
                int area = heights[i]*(result[0][i]-result[1][i]-1);
                largestNum = area>largestNum?area:largestNum;
            }
        }

        return largestNum;
    }
};
~~~

