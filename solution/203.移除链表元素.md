# 203.移除链表元素

## 题目描述

给你一个链表的头节点 `head` 和一个整数 `val` ，请你删除链表中所有满足 `Node.val == val` 的节点，并返回 **新的头节点** 。

 

**示例 1：**

![img](https://assets.leetcode.com/uploads/2021/03/06/removelinked-list.jpg)

```
输入：head = [1,2,6,3,4,5,6], val = 6
输出：[1,2,3,4,5]
```

**示例 2：**

```
输入：head = [], val = 1
输出：[]
```

**示例 3：**

```
输入：head = [7,7,7,7], val = 7
输出：[]
```



## 题解

byd以前学的东西都忘光了。自己一开始写的非常差，后面看了标准思路之后解题轻松多了。至少还算是自己慢慢敲出来的

注意，leetcode上面已经预定义了ListNode，不需要你自己重复定义。但还是需要自己写一写定义的逻辑加深印象；

`````
// struct ListNode{
//     int val;
//     ListNode *next;
//     ListNode(int v):val(v),next(nullptr){}
// };

class Solution {
public:
    ListNode* removeElements(ListNode* head, int val) {
        while(head != nullptr && head->val == val)
        {
            ListNode *temp = head;
            head = head->next;
            delete temp;
        }//首先确保首个元素不为val，并时刻更新head;

        if(head == nullptr)//这一段判断是必要的。如果想省去这一段，可以在下面的while循环条件处做改进
            return nullptr;

        ListNode *curr = head;
        while(curr->next != nullptr)//这里可以写成while(curr!=nullptr && curr->next!=nullptr)
        {
            if(curr->next->val != val)
            {
                curr = curr->next;
            }
            else
            {
                ListNode *temp = curr->next;
                curr->next = temp->next;
                delete temp;
            }
        }
        return head;
    }
};//时间复杂度: O(n)，空间复杂度: O(1)
`````

以上是第一种解法。然而我们注意到，在处理头结点的时候需要单独为其编写一段处理逻辑，这是否存在冗余呢？我们可否定义一个虚拟头结点来使所有节点的处理方式保持一致从而节省掉单独处理头结点的那一段逻辑？

题解如下：

`````
class Solution {
public:
    ListNode* removeElements(ListNode* head, int val) {
        ListNode *dummyNode = new ListNode(0);//虚拟头节点
        dummyNode->next = head;
        ListNode *curr = dummyNode;
        while(curr->next != nullptr)
        {
            if(curr->next->val != val)
            {
                curr = curr->next;
            }
            else
            {
                ListNode *temp = curr->next;
                curr->next = temp->next;
                delete temp;
            }
        }
        head = dummyNode->next;
        delete dummyNode;//此处记得释放虚拟头节点
        return head;
    }
};
`````

